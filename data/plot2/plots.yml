pageable_cpu0-gpu0.pdf:
  series:
    - file: m2_pageable.csv
      col: a
    - file: m2_pageable.csv
      col: b
      label: S822LC
    - file: hal_pageable.csv
      col: b
      label: AC922
    - file: dgx_pageable.csv
      col: b
      label: DGX-1
  yaxis:
    label: Transfer Bandwidth (MB/s)
    lim:
      - 0
      - 70000
  xaxis:
    label: Transfer Size (MB)
    scale: log
  title: Pageable CPU0 allocation to GPU0 allocation
pinned_cpu0-gpu0.pdf:
  series:
    - file: m2_pinned.csv
      col: a
    - file: m2_pinned.csv
      col: b
      label: S822LC
    - file: hal_pinned.csv
      col: b
      label: AC922
    - file: dgx_pinned.csv
      col: b
      label: DGX-1
  yaxis:
    label: Transfer Bandwidth (MB/s)
    lim:
      - 0
      - 70000
  xaxis:
    label: Transfer Size (MB)
    scale: log
  title: Pinned CPU0 allocation to GPU0 allocation
wc_cpu0-gpu0.pdf:
  series:
    - file: m2_wc.csv
      col: a
    - file: m2_wc.csv
      col: b
      label: S822LC
    - file: hal_wc.csv
      col: b
      label: AC922
    - file: dgx_wc.csv
      col: b
      label: DGX-1
  yaxis:
    label: Transfer Bandwidth (MB/s)
    lim:
      - 0
      - 70000
  xaxis:
    label: Transfer Size (MB)
    scale: log
  title: Write-Combining CPU0 allocation to GPU0 allocation

page-to-pin.pdf:
  series:
    - file: m2_page-to-pin.csv
      col: a
    - file: m2_page-to-pin.csv
      col: b
      label: S822LC
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    label: Transfer Size (MB)
    scale: log
  title: Transfer from a Pageable Allocation to Pinned Allocation on CPU0

minsky_pageable_cpu0-gpus.pdf:
  series:
    - file: m2_pageable.csv
      col: a
    - label: Local (CPU0 to GPU0)
      file: m2_pageable.csv
      col: b
    - label: Local (CPU0 to GPU1)
      file: m2_pageable.csv
      col: c
    - label: Remote (CPU0 to GPU2)
      file: m2_pageable.csv
      col: d
    - label: Remote (CPU0 to GPU3)
      file: m2_pageable.csv
      col: e
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: Transfers from CPU0

minsky_pageable_cpu1-gpus.pdf:
  series:
    - file: m2_pageable.csv
      col: a
    - label: Remote (CPU1 to GPU0)
      file: m2_pageable.csv
      col: f
    - label: Remote (CPU1 to GPU1)
      file: m2_pageable.csv
      col: g
    - label: Local (CPU1 to GPU2)
      file: m2_pageable.csv
      col: h
    - label: Local (CPU1 to GPU3)
      file: m2_pageable.csv
      col: i
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: Transfers from CPU1

minsky_pageable_cpu1-gpu01.pdf:
  series:
    - file: m2_pageable.csv
      col: a
    - label: CPU1 to GPU0
      file: m2_pageable.csv
      col: f
    - label: CPU1 to GPU1
      file: m2_pageable.csv
      col: g
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: S822LC Pageable Transfers from CPU1

minsky_memcpy_local.pdf:
  series:
    - file: m2_memcpy-nopeer.csv
      col: a
    - label: Peer Access Enabled
      file: m2_memcpy-peer.csv
      col: c
    - label: Peer Access Disabled
      file: m2_memcpy-nopeer.csv
      col: e
  yaxis:
    label: Transfer Bandwidth (MB/s)
    lim:
      - 0
      - 70000
  xaxis:
    scale: log
  title: S822LC GPU0-GPU1 Transfers, GPU0 to GPU1

hal_peer_local.pdf:
  series:
    - file: hal_memcpy-nopeer.csv
      col: a
    - label: GPU1 to GPU0 (peer)
      file: hal_memcpy-peer.csv
      col: b
    - label: GPU0 to GPU1 (peer)
      file: hal_memcpy-peer.csv
      col: e
    - label: GPU3 to GPU2 (peer)
      file: hal_memcpy-peer.csv
      col: j
    - label: GPU2 to GPU3 (peer)
      file: hal_memcpy-peer.csv
      col: m
    - label: GPU1 to GPU0 (no peer)
      file: hal_memcpy-nopeer.csv
      col: b
    - label: GPU0 to GPU1 (no peer)
      file: hal_memcpy-nopeer.csv
      col: e
    - label: GPU3 to GPU2 (no peer)
      file: hal_memcpy-nopeer.csv
      col: j
    - label: GPU2 to GPU3 (no peer)
      file: hal_memcpy-nopeer.csv
      col: m
  yaxis:
    label: Transfer Bandwidth (MB/s)
    lim:
      - 0
      - 70000
  xaxis:
    scale: log
  title: AC922 GPU-GPU Local Transfers

hal_peer_remote.pdf:
  series:
    - file: hal_memcpy-nopeer.csv
      col: a
    - label: GPU0 to GPU2 (peer)
      file: hal_memcpy-peer.csv
      col: h
    - label: GPU0 to GPU3 (peer)
      file: hal_memcpy-peer.csv
      col: k
    - label: GPU1 to GPU2 (peer)
      file: hal_memcpy-peer.csv
      col: i
    - label: GPU1 to GPU3 (peer)
      file: hal_memcpy-peer.csv
      col: l
    - label: GPU0 to GPU2 (no peer)
      file: hal_memcpy-nopeer.csv
      col: h
    - label: GPU0 to GPU3 (no peer)
      file: hal_memcpy-nopeer.csv
      col: k
    - label: GPU1 to GPU2 (no peer)
      file: hal_memcpy-nopeer.csv
      col: i
    - label: GPU1 to GPU3 (no peer)
      file: hal_memcpy-nopeer.csv
      col: l
  yaxis:
    label: Transfer Bandwidth (MB/s)
    lim:
      - 0
      - 70000
  xaxis:
    scale: log
  title: AC922 GPU-GPU Remote Transfers

minsky_nopeer_remote.pdf:
  series:
    - file: m2_memcpy-nopeer.csv
      col: a
    - label: GPU0 to GPU2
      file: m2_memcpy-nopeer.csv
      col: h
    - label: GPU2 to GPU0
      file: m2_memcpy-nopeer.csv
      col: c
  yaxis:
    label: Transfer Bandwidth (MB/s)
    lim:
      - 0
      - 50000
  xaxis:
    scale: log
  title: S822LC Transfers between GPU0 and GPU2 (peer access disabled)

minsky_path_gpu2-gpu0.pdf:
  series:
    - file: m2_memcpy-nopeer.csv
      col: a
    - label: GPU2 to CPU1 (pinned)
      file: m2_pinned.csv
      col: p
    - label: CPU0 to GPU0 (pinned)
      file: m2_pinned.csv
      col: b
  yaxis:
    label: Transfer Bandwidth (MB/s)
    lim:
      - 0
      - 50000
  xaxis:
    scale: log
  title: S822LC Path bandwidths from GPU2 to GPU0 (pinned xfer numbers)

minsky_path_gpu0-gpu2.pdf:
  series:
    - file: m2_memcpy-nopeer.csv
      col: a
    - label: GPU0 to CPU0 (pinned)
      file: m2_pinned.csv
      col: j
    - label: CPU1 to GPU2 (pinned)
      file: m2_pinned.csv
      col: h
  yaxis:
    label: Transfer Bandwidth (MB/s)
    lim:
      - 0
      - 50000
  xaxis:
    scale: log
  title: S822LC Path bandwidths from GPU0 to GPU2 (pinned xfer numbers)

hal_nopeer_remote.pdf:
  series:
    - file: hal_memcpy-nopeer.csv
      col: a
    - label: GPU0 to GPU2
      file: hal_memcpy-nopeer.csv
      col: h
    - label: GPU2 to GPU0
      file: hal_memcpy-nopeer.csv
      col: c
  yaxis:
    label: Transfer Bandwidth (MB/s)
    lim:
      - 0
      - 50000
  xaxis:
    scale: log
  title: AC922 Transfers between GPU0 and GPU2 (peer access disabled)

hal_nopeer_identical-local.pdf:
  series:
    - file: hal_memcpy-nopeer.csv
      col: a
    - label: GPU0 to GPU1
      file: hal_memcpy-nopeer.csv
      col: e
    - label: GPU2 to GPU3
      file: hal_memcpy-nopeer.csv
      col: m
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: AC922 Local Transfers on Identical Links (peer access disabled)

hal_nopeer_identical-remote.pdf:
  series:
    - file: hal_memcpy-nopeer.csv
      col: a
    - label: GPU1 to GPU2
      file: hal_memcpy-nopeer.csv
      col: f
    - label: GPU0 to GPU3
      file: hal_memcpy-nopeer.csv
      col: k
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: AC922 Remote Transfers on Identical Links (peer access disabled)

minsky_nopeer_identical-local.pdf:
  series:
    - file: m2_memcpy-nopeer.csv
      col: a
    - label: GPU0 to GPU1
      file: m2_memcpy-nopeer.csv
      col: e
    - label: GPU2 to GPU3
      file: m2_memcpy-nopeer.csv
      col: m
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: S822LC Local Transfers on Identical Links (peer access disabled)

minsky_nopeer_identical-remote.pdf:
  series:
    - file: m2_memcpy-nopeer.csv
      col: a
    - label: GPU1 to GPU2
      file: m2_memcpy-nopeer.csv
      col: f
    - label: GPU0 to GPU3
      file: m2_memcpy-nopeer.csv
      col: k
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: S822LC Remote Transfers on Identical Links (peer access disabled)

minsky_pinned_cpu0-local.pdf:
  series:
    - file: m2_pinned.csv
      col: a
    - label: GPU0 to CPU0
      file: m2_pinned.csv
      col: j
    - label: GPU1 to CPU0
      file: m2_pinned.csv
      col: k
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: S822LC Local transfers from Device to pinned CPU0

minsky_wc_cpu0-local.pdf:
  series:
    - file: m2_wc.csv
      col: a
    - label: GPU0 to CPU0
      file: m2_wc.csv
      col: j
    - label: GPU1 to CPU0
      file: m2_wc.csv
      col: k
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: S822LC Local transfers from Device to Write-combining CPU0

minsky_pageable_affinity.pdf:
  series:
    - file: m2_pageable.csv
      col: a
    - label: Local (CPU0 to GPU0)
      file: m2_pageable.csv
      col: b
    - label: Remote (CPU0 to GPU2)
      file: m2_pageable.csv
      col: d
    - label: Local (GPU0 to CPU0)
      file: m2_pageable.csv
      col: j
    - label: Remote (GPU2 to CPU0)
      file: m2_pageable.csv
      col: l
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: Effect of Affinity on S822LC Pageable CPU0-GPU Transfers

hal_pageable_affinity.pdf:
  series:
    - file: hal_pageable.csv
      col: a
    - label: Local (CPU0 to GPU0)
      file: hal_pageable.csv
      col: b
    - label: Remote (CPU0 to GPU2)
      file: hal_pageable.csv
      col: d
    - label: Local (GPU0 to CPU0)
      file: hal_pageable.csv
      col: j
    - label: Remote (GPU2 to CPU0)
      file: hal_pageable.csv
      col: l
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: Effect of Affinity on AC922 Pageable CPU0-GPU Transfers

dgx_pageable_affinity.pdf:
  series:
    - file: dgx_pageable.csv
      col: a
    - label: Local (CPU0 to GPU0)
      file: dgx_pageable.csv
      col: b
    - label: Remote (CPU0 to GPU5)
      file: dgx_pageable.csv
      col: g
    - label: Local (GPU0 to CPU0)
      file: dgx_pageable.csv
      col: r
    - label: Remote (GPU5 to CPU0)
      file: dgx_pageable.csv
      col: w
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: Effect of Affinity on DGX-1 Pageable CPU0-GPU Transfers

minsky_pinned_affinity_cpu0.pdf:
  series:
    - file: m2_pinned.csv
      col: a
    - label: Local (CPU0 to GPU0)
      file: m2_pinned.csv
      col: b
    - label: Remote (CPU0 to GPU2)
      file: m2_pinned.csv
      col: d
    - label: Local (GPU0 to CPU0)
      file: m2_pinned.csv
      col: j
    - label: Remote (GPU2 to CPU0)
      file: m2_pinned.csv
      col: l
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: Effect of Affinity on S822LC Pinned CPU0-GPU Transfers

minsky_pinned_affinity_cpu1.pdf:
  series:
    - file: m2_pinned.csv
      col: a
    - label: Local (CPU1 to GPU0)
      file: m2_pinned.csv
      col: f
    - label: Remote (CPU1 to GPU2)
      file: m2_pinned.csv
      col: h
    - label: Local (GPU0 to CPU1)
      file: m2_pinned.csv
      col: n
    - label: Remote (GPU2 to CPU1)
      file: m2_pinned.csv
      col: p
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: S822LC Pinned CPU1-GPU Transfers

hal_pinned_affinity.pdf:
  series:
    - file: hal_pinned.csv
      col: a
    - label: Local (CPU0 to GPU0)
      file: hal_pinned.csv
      col: b
    - label: Remote (CPU0 to GPU2)
      file: hal_pinned.csv
      col: d
    - label: Local (GPU0 to CPU0)
      file: hal_pinned.csv
      col: j
    - label: Remote (GPU2 to CPU0)
      file: hal_pinned.csv
      col: l
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: AC922 Pinned CPU0-GPU Transfers

dgx_pinned_affinity.pdf:
  series:
    - file: dgx_pinned.csv
      col: a
    - label: Local (CPU0 to GPU0)
      file: dgx_pinned.csv
      col: b
    - label: Remote (CPU0 to GPU5)
      file: dgx_pinned.csv
      col: g
    - label: Local (GPU0 to CPU0)
      file: dgx_pinned.csv
      col: r
    - label: Remote (GPU5 to CPU0)
      file: dgx_pinned.csv
      col: w
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: DGX-1 Pinned CPU0-GPU Transfers  

minsky_pageable_cpu0-gpus.pdf:
  series:
    - file: m2_pageable.csv
      col: a
    - file: m2_pageable.csv
      col: b
    - file: m2_pageable.csv
      col: c
    - file: m2_pageable.csv
      col: d
    - file: m2_pageable.csv
      col: e
  yaxis:
    label: Transfer Bandwidth (MB/s)
    lim:
      - 0
      - 30000
  xaxis:
    scale: log
  title: Transfers to CPU0

minsky_pageable_cpu1-gpus.pdf:
  series:
    - file: m2_pageable.csv
      col: a
    - file: m2_pageable.csv
      col: f
    - file: m2_pageable.csv
      col: g
    - file: m2_pageable.csv
      col: h
    - file: m2_pageable.csv
      col: i
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: Transfers to CPU1

minsky_pageable_gpus-cpu0.pdf:
  series:
    - file: m2_pageable.csv
      col: a
    - file: m2_pageable.csv
      col: j
    - file: m2_pageable.csv
      col: k
    - file: m2_pageable.csv
      col: l
    - file: m2_pageable.csv
      col: m
  yaxis:
    label: Transfer Bandwidth (MB/s)
    lim:
      - 0
      - 30000
  xaxis:
    scale: log
  title: Transfers to CPU0
  
minsky_pageable_gpus-cpu1.pdf:
  series:
    - file: m2_pageable.csv
      col: a
    - file: m2_pageable.csv
      col: n
    - file: m2_pageable.csv
      col: o
    - file: m2_pageable.csv
      col: p
    - file: m2_pageable.csv
      col: q
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: Transfers to CPU1

minsky_pageable_gpu02-cpu01.pdf:
  series:
    - file: m2_pageable.csv
      col: a
    - file: m2_pageable.csv
      col: j
      label: GPU0 to CPU0
    - file: m2_pageable.csv
      col: p
      label: GPU2 to CPU1
  yaxis:
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: log
  title: Identical Pageable Transfers GPU0-GPU0 and GPU2-GPU1

s822lc_cpu0-cpu1-dst.pdf:
  generator: df
  file: m2_dst-rd-src.csv
  reduce-over:
    - "transfer_size"
    - "threads"
    - "src"
    - "dst"
  keep:
    - col: src
      val: CPU0
      op: "="
    - col: dst
      val: CPU1
      op: "="
    - col: "transfer_size"
      # val: 32000000
      val: 0
      op: gt # greater than
  yaxis:
    scale: 0.000001
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: 0.000001
    type: log
    label: Transfer Size (MB/s)
  title: CPU1 from CPU0 Bandwidth

s822lc_cpu0-cpu1-src.pdf:
  generator: df
  file: m2_src-wr-dst.csv
  reduce-over:
    - "transfer_size"
    - "threads"
    - "src"
    - "dst"
  keep:
    - col: src
      val: CPU0
      op: "="
    - col: dst
      val: CPU1
      op: "="
    - col: "transfer_size"
      # val: 32000000
      val: 0
      op: gt # greater than
  yaxis:
    scale: 0.000001
    label: Transfer Bandwidth (MB/s)
  xaxis:
    scale: 0.000001
    type: log
    label: Transfer Size (MB/s)
  title: CPU0 to CPU1 andwidth